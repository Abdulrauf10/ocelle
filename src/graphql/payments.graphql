fragment PaymentGateway on PaymentGateway {
  id
  name
  currencies
  config {
    field
    value
  }
}

mutation InitializePaymentGateways(
  $checkoutId: ID!
  $paymentGateways: [PaymentGatewayToInitialize!]
) {
  paymentGatewayInitialize(id: $checkoutId, paymentGateways: $paymentGateways) {
    errors {
      field
      message
      code
    }
    gatewayConfigs {
      id
      data
      errors {
        field
        message
        code
      }
    }
  }
}

mutation InitializeTransaction(
  $checkoutOrOrderId: ID!
  $action: TransactionFlowStrategyEnum
  $paymentGateway: PaymentGatewayToInitialize!
  $amount: PositiveDecimal
) {
  transactionInitialize(
    id: $checkoutOrOrderId
    action: $action
    paymentGateway: $paymentGateway
    amount: $amount
  ) {
    transaction {
      id
      actions
    }
    transactionEvent {
      message
      type
    }
    data
    errors {
      field
      code
      message
    }
  }
}

mutation ProcessTransaction($id: ID!, $data: JSON) {
  transactionProcess(id: $id, data: $data) {
    transaction {
      id
      actions
    }
    transactionEvent {
      message
      type
    }
    data
    errors {
      field
      code
      message
    }
  }
}
