query GetAddresses {
  me {
    defaultShippingAddress {
      ...UserAddress
    }
    defaultBillingAddress {
      ...UserAddress
    }
  }
}

mutation UpdateAddress(
  $id: ID!
  $firstName: String!
  $lastName: String!
  $streetAddress1: String!
  $streetAddress2: String!
  $city: String!
  $cityArea: String!
) {
  accountAddressUpdate(
    id: $id
    input: {
      firstName: $firstName
      lastName: $lastName
      streetAddress1: $streetAddress1
      streetAddress2: $streetAddress2
      city: $city
      cityArea: $cityArea
      country: HK
    }
  ) {
    errors {
      ...UserError
    }
  }
}

query addressValidationRules($countryArea: String!) {
  addressValidationRules(countryCode: HK, countryArea: $countryArea) {
    addressFormat
    allowedFields
    requiredFields
    countryAreaType
    postalCodeType
    cityType
    cityChoices {
      raw
      verbose
    }
    countryAreaChoices {
      raw
      verbose
    }
  }
}
